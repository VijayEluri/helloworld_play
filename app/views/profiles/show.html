#{extends 'main.html' /}
#{set title:'Hello,World. Show' /}

<h1>Public Profile</h1>

<div id="col-one">

    <div class="profile-image">
        *{<%= image_tag @profile.photo.url(), :alt => @profile.full_name %>}*
        <img src="/public/${profile.getPhotoFileName()}" alt="${profile.getFullName()}"/>
    </div>
    <!-- /profile-image -->

    <div class="profile-actions">

    </div>
    <!-- /profile-actions -->

    <h2>User's profile updates *{(<%= @profile.statuses.count %>)}*(${count})</h2>

    <div class="profile-stream">
        <div class="profile-stream-item">
            #{status statuses:statuses /}
        </div>
    </div>

    <!-- /profile-stream -->

</div>
<!-- /col-one -->

<div id="col-two">
    <div class="profile-center">

        <h3>*{<%= @profile.full_name %>}*
            ${profile.getFullName()}</h3>
        <p>*{<%= @profile.profession %>}*
            ${profile.profession} at <strong>
                *{<%= @profile.company %>}*
                ${profile.company}</strong></p>

        #{if profile.businessAddress != null }
        <div class="profile-center-company">
            <strong>Business Adress</strong>
            #{address address:businessAddress /}
        </div>
        #{/if}

        <h4>About Me</h4>
        <p>${profile.about}</p>

        <!--
        <a href="#" title="" class="button-blue">Send Message</a>
        -->
    </div>
</div>
<!-- /col-two -->

<div id="col-three">
    <h2>User's contacts *{(<%= @profile.contacts.relation_accepted.count || 0 %>)}* (${count})</h2>

    <div class="contact-list-small">
        #{paginate.list items:paginator, as:'contact'}
        #{contact2 /}
        #{/paginate.list}
        <!--%= render :partial => 'contact', :collection => @profile.contacts.relation_accepted %-->
    </div>
    <!-- /contact-list-small -->
</div>
<!-- /col-three -->

<div class="clear"><!-- clear --></div>
