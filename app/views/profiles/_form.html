 <div class="row">
  <div class="label">Private Address</div>
  <div class="field">
        <select name="entity.privateAddress.id">
                      <option value="">(None)</option>              
        %{ models.Address.all().fetch().sort{ it.toString() }.each() { }%
          %{
            selected = false;
            if (entity?.privateAddress?.id == it.id) {
              selected = true
            }
          }%
          <option value="${it?.id}" ${selected ? 'selected'.raw() : ''}>${it}</option>
        %{ } }%
        </select>
  </div>
  <span class="error">${errors.forKey('entity.privateAddress')}</span>
</div>
 <div class="row">
  <div class="label">Business Address</div>
  <div class="field">
        <select name="entity.businessAddress.id">
                      <option value="">(None)</option>              
        %{ models.Address.all().fetch().sort{ it.toString() }.each() { }%
          %{
            selected = false;
            if (entity?.businessAddress?.id == it.id) {
              selected = true
            }
          }%
          <option value="${it?.id}" ${selected ? 'selected'.raw() : ''}>${it}</option>
        %{ } }%
        </select>
  </div>
  <span class="error">${errors.forKey('entity.businessAddress')}</span>
</div>
 <div class="row">
  <div class="label">Contact</div>
  <div class="field">
        <select name="entity.contact.id" multiple>
        %{ models.Contact.all().fetch().sort{ it.toString() }.each() { }%
          %{ 
            selected = false;
            entity?.contact.each() { f ->
              if (f.id == it?.id)
                selected = true;
            }
          }%
          <option value="${it?.id}" ${selected ? 'selected'.raw() : ''}>${it}</option>
        %{ } }%
        </select>
  </div>
  <span class="error">${errors.forKey('entity.contact')}</span>
</div>
 <div class="row">
  <div class="label">Profession</div>
  <div class="field">
      <input type="text" name="entity.profession" value="${entity?.profession}"/>
  </div>
  <span class="error">${errors.forKey('entity.profession')}</span>
</div>
 <div class="row">
  <div class="label">Company</div>
  <div class="field">
      <input type="text" name="entity.company" value="${entity?.company}"/>
  </div>
  <span class="error">${errors.forKey('entity.company')}</span>
</div>
 <div class="row">
  <div class="label">About</div>
  <div class="field">
      <input type="text" name="entity.about" value="${entity?.about}"/>
  </div>
  <span class="error">${errors.forKey('entity.about')}</span>
</div>
 <div class="row">
  <div class="label">Created At</div>
  <div class="field">
      <script type="text/javascript">
        $(function() {
          $("#createdAt").datepicker({ dateFormat: 'yy-mm-dd' } );
        });
      </script>
      <!-- TODO: date format needs to come from application.conf -->
      <input id="createdAt" type="text" name="entity.createdAt" 
        value="${entity?.createdAt?.format('yyyy-MM-dd')}"
        size="10" />
  </div>
  <span class="error">${errors.forKey('entity.createdAt')}</span>
</div>
 <div class="row">
  <div class="label">Updated At</div>
  <div class="field">
      <script type="text/javascript">
        $(function() {
          $("#updatedAt").datepicker({ dateFormat: 'yy-mm-dd' } );
        });
      </script>
      <!-- TODO: date format needs to come from application.conf -->
      <input id="updatedAt" type="text" name="entity.updatedAt" 
        value="${entity?.updatedAt?.format('yyyy-MM-dd')}"
        size="10" />
  </div>
  <span class="error">${errors.forKey('entity.updatedAt')}</span>
</div>
 <div class="row">
  <div class="label">First Name</div>
  <div class="field">
      <input type="text" name="entity.firstName" value="${entity?.firstName}"/>
  </div>
  <span class="error">${errors.forKey('entity.firstName')}</span>
</div>
 <div class="row">
  <div class="label">Last Name</div>
  <div class="field">
      <input type="text" name="entity.lastName" value="${entity?.lastName}"/>
  </div>
  <span class="error">${errors.forKey('entity.lastName')}</span>
</div>
 <div class="row">
  <div class="label">Full Name</div>
  <div class="field">
      <input type="text" name="entity.fullName" value="${entity?.fullName}"/>
  </div>
  <span class="error">${errors.forKey('entity.fullName')}</span>
</div>
 <div class="row">
  <div class="label">Photo File Name</div>
  <div class="field">
      <input type="text" name="entity.photoFileName" value="${entity?.photoFileName}"/>
  </div>
  <span class="error">${errors.forKey('entity.photoFileName')}</span>
</div>
 <div class="row">
  <div class="label">Photo Content Type</div>
  <div class="field">
      <input type="text" name="entity.photoContentType" value="${entity?.photoContentType}"/>
  </div>
  <span class="error">${errors.forKey('entity.photoContentType')}</span>
</div>
 <div class="row">
  <div class="label">Photo File Size</div>
  <div class="field">
      <input type="text" name="entity.photoFileSize" value="${entity?.photoFileSize}"/>
  </div>
  <span class="error">${errors.forKey('entity.photoFileSize')}</span>
</div>
 <div class="row">
  <div class="label"></div>
  <div class="field">
      <input type="hidden" name="entity.id" value="${entity?.id}"/>
  </div>
  <span class="error">${errors.forKey('entity.id')}</span>
</div>

